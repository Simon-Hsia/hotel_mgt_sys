"use strict";(self["webpackChunkhotel_frontend"]=self["webpackChunkhotel_frontend"]||[]).push([[311],{2311:function(e,t,s){s.r(t),s.d(t,{default:function(){return u}});var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"login-container"},[t("div",{staticClass:"login-box"},[t("div",{staticClass:"title-box"},[e._v("酒店管理系统")]),t("el-form",{ref:"loginRef",attrs:{model:e.loginForm,rules:e.loginRules}},[t("el-form-item",{attrs:{prop:"adminname"}},[t("el-input",{attrs:{placeholder:"请输入管理员名",maxlength:"45",minlength:"1"},model:{value:e.loginForm.adminname,callback:function(t){e.$set(e.loginForm,"adminname",t)},expression:"loginForm.adminname"}})],1),t("el-form-item",{attrs:{prop:"password"}},[t("el-input",{attrs:{type:"password",placeholder:"请输入密码",maxlength:"12",minlength:"6"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),t("el-form-item",[t("el-button",{staticClass:"btn-login",attrs:{type:"primary"},on:{click:e.loginFn}},[e._v("登录")])],1)],1)],1)])},n=[],r=(s(4114),s(8111),s(7588),s(4166)),o=s(3518);const i=r.A.admin;var l={name:"hotel-login",data(){return{loginForm:{adminname:"administrator",password:"hotel123"},loginRules:{adminname:[{required:!0,message:"请输入管理员名",trigger:"blur"},{pattern:/^.{1,45}$/,message:"管理员名必须是1-45的字母数字",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{pattern:/^\S{6,12}$/,message:"密码必须是6-12的非空字符",trigger:"blur"}]}}},methods:{...(0,o.PY)(["updateToken"]),async loginFn(){this.$refs.loginRef.validate((async e=>{if(!e)return;this.loginForm={adminname:"administrator",password:"hotel123"};const{data:t}=await i.loginAPI(this.loginForm);if(0!==t.status)return t.data.length?(t.data.forEach((e=>{this.$message.error(e.message)})),!1):this.$message.error(t.message);this.$message.success(t.message),this.updateToken(t.token),this.$router.push("/")}))}}},m=l,g=s(1656),d=(0,g.A)(m,a,n,!1,null,"59348128",null),u=d.exports}}]);